var split,ALL_CONFIG={mock:{get_assets_information_config:{method:"post",url:"https://crm-zendesk.wondershare.cc/api/v1/embeddable/latest/assets?",key_str:!0},zendesk_web_sdk_path:"https://crm-static.wondershare.cc/chatbot/latest/assets/web_sdk.js",zendesk_account_key:"NXQiW4RKtSmIUxNJJ9NQQfFPB2ne5skk",jquery_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/jquery-3.3.1.min.js",swiper_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/swiper-bundle.min.js",swiper_css_path:"https://crm-static.wondershare.cc/chatbot/latest/static/css/swiper-bundle.css",is_mock:!0},test:{get_assets_information_config:{method:"post",url:"http://crm-zendesk.wondershare.cc/api/v1/embeddable/latest/assets?",key_str:!0},jquery_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/jquery-3.3.1.min.js",swiper_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/swiper-bundle.min.js",swiper_css_path:"https://crm-static.wondershare.cc/chatbot/latest/static/css/swiper-bundle.css",zendesk_web_sdk_path:"https://crm-static.wondershare.cc/chatbot/latest/assets/web_sdk.js",zendesk_account_key:"NXQiW4RKtSmIUxNJJ9NQQfFPB2ne5skk",is_mock:!0},production:{get_assets_information_config:{method:"post",url:"https://crm-zendesk.wondershare.cc/api/v1/embeddable/latest/assets?",key_str:!0},jquery_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/jquery-3.3.1.min.js",swiper_js_path:"https://crm-static.wondershare.cc/chatbot/latest/static/js/swiper-bundle.min.js",swiper_css_path:"https://crm-static.wondershare.cc/chatbot/latest/static/css/swiper-bundle.css",zendesk_web_sdk_path:"https://crm-static.wondershare.cc/chatbot/latest/assets/web_sdk.js",zendesk_account_key:"aUDWsxKk3WGIkX4o4mIzeGVtl8BM565F",is_mock:!1}},config=ALL_CONFIG.mock;function isIPhoneWxMobileDevice(){return!(!window.navigator.userAgent||-1===window.navigator.userAgent.indexOf("iPhone")||-1===window.navigator.userAgent.indexOf("Mobile")||-1===window.navigator.userAgent.indexOf("MicroMessenger"))}function isIE(){return!!(window.ActiveXObject||"ActiveXObject"in window)}function isEdge(){return!(isIE()||!window.navigator.userAgent||-1===window.navigator.userAgent.indexOf("Edge"))}function httpRequest(e,t,n){var i=null;if(window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLHTTP")),null!=i){var o=(e.method||"Get").toUpperCase(),a=(e.dataType,e.url||"");if("POST"==o){var r,s=e.data||{},c="";for(r in s)c=c+r+"="+s[r]+"&";c=""==c?"":c.subString(0,c.length-1)}i.onreadystatechange=function(){4==i.readyState&&(200==i.status?t(i.responseText):n())},"GET"==o?(i.open("GET",a,!0),i.send(null)):"POST"==o&&(i.open("POST",a,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(c))}else alert("浏览器不支持xmlHttp")}function GetQueryString(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||["",""])[1].replace(/\+/g,"%20"))||null}function handleLanguage(e){var t=e;return!e.indexOf("-")||(e=e.split("-"))&&2===e.length&&e[0]&&/^[A-Za-z]+$/.test(e[0])&&e[1]&&/^[A-Za-z]+$/.test(e[1])&&(t=e[0]+"-"+e[1].toUpperCase()),t}function getCurrentHtmlParamsObj(){var e={user_name:"",email:"",product:"",language:"",client_auto_pop:""},t=window.location.href,n=GetQueryString("user_name",t),i=GetQueryString("email",t),o=GetQueryString("product",t),a=GetQueryString("language",t),t=GetQueryString("client_auto_pop",t);return n&&(e.user_name=n),i&&(e.email=i),o&&(e.product=o),a&&(e.language=handleLanguage(a)),t&&(e.client_auto_pop=t),e}function getClientAutoPop(){return GetQueryString("client_auto_pop",window.location.href)}function getCurrentScript(){var e,t=null;if(document.currentScript)!0!==((t=document.currentScript).hasAttribute?t.async:t.getAttribute("async"))&&t.setAttribute("async",!0);else if((e=document.getElementsByTagName("script"))&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n],o=i.hasAttribute?i.src:i.getAttribute("src");if(-1<o.indexOf("snippet")&&-1<o.indexOf("?key=")){!0!==(i.hasAttribute?i.src:i.getAttribute("async"))&&i.setAttribute("async",!0),t=i;break}}return t}function getCurrentScriptKey(){var e=null,t=getCurrentScript(),t=t.hasAttribute?t.src:t.getAttribute("src");return e=t&&GetQueryString("key",t)?"key="+GetQueryString("key",t):e}function getMobilePreviewAtrribute(){var e=null;return"true"===(e=getCurrentScript().getAttribute("mobile_preview"))&&(window.mobile_preview="true"),e}function setWxAutoPopAtrributeToWindow(){var e=null;return"true"===(e=getCurrentScript().getAttribute("wx_auto_pop"))&&(window.wx_auto_pop="true"),e}function getAssetsData(){return JSON.stringify({code:0,msg:"success",data:{product:{client_id:"a22b77e3-7e2b-c653-045c-283ce7f02662",features:{chat:"57ce3369-01b5-ad4e-1dde-be4d6aeeb7b2"}},assets:{json:[{src:"/chatbot/v1.10.08/static/json/manifest.json",param:""}],script:[{src:"/chatbot/v1.10.08/static/js/main.c403ebdc.chunk.js",param:""},{src:"/chatbot/v1.10.08/static/js/2.3efd6201.chunk.js",param:""},{src:"/chatbot/latest/assets/solid.js",param:""}],style:[{src:"/chatbot/v1.10.08/static/css/main.41c065fb.chunk.css",param:""},{src:"/chatbot/v1.10.08/static/css/2.6eedd483.chunk.css",param:""}]},information:{name:"test nomaral0706",display_name:"Wondershare Customer Service",type:2,language:"en",skip:"跳一跳，皮一下很开心！http://crm-web.wondershare.comhttp://cr",product_choose_tip:"请选择产品呀",default_theme:"",theme:"#4b4b4b",mobile_theme:"#4b4b4b",show_chatbot:1,mobile_show_chatbot:1,chatbot_icon:"http://img2.imgtn.bdimg.com/it/u=2076373339,2173673275&fm=26&gp=0.jpg",mobile_chatbot_icon:"http://img2.imgtn.bdimg.com/it/u=2076373339,2173673275&fm=26&gp=0.jpg",button_text:"Contact",banner:{title:"亲亲亲亲，你好",sub_title:"Wonshare will be happy to see 你"},notice:{show_notice:1,mobile_show_notice:0,title:"你好",mobile_title:"hello  world",sub_title:"hi,we are happy to help 你",mobile_sub_title:"hi~",link_url:"",link_type:0,mobile_is_show_notice:1},launcher:{text:"",mobile_text:"",type:"",icon:""},guide:{title:"",sub_title:"",normal_tips:"",sub_tips:"",empty_tips:"",error_tips:""},email:{email_required:1,email_verify:2,input_tips:"Leave your 邮箱",input_placeholder:"Enter your 邮箱",emty_tip:"邮箱 can not be empty",format_error_tip:"邮箱 format is not correct"},chat_interface:{pre_title:"Wondershare welcome",title:"",sub_title:"",menu_text:"",menu_icon:"",message_button_tips:"",input_empty_tips:"",input_error_tips:""},custom_form:{},custom_guide:[{access_context:"Artificial Intelligence",access_name:"产品一",access_type:1,auth_id:"1127053836663828543",contact_text:"",display_name:"产品一",guide_type:1,page_title:"",sort:0,online_service_config:{im_type:0,language:"zh-cn",send_text:"",zendesk_form_empty_tip:"",zendesk_form_format_tip:"",zendesk_group_id:0,offline_show_type:0,offline_text:"",zendesk_support_form_show:2,zendesk_support_form_id:0,zendesk_prechat_form_show:2,zendesk_prechat_form_id:0,pre_chat_form_config:null,offline_form_config:null,week_text:null,intercom_id:"",online_translate_config:{chat_message_placeholder:"消息输入框：输入消息",chat_network_broke_down:"网络断开提示：网络好像有问题",chat_network_try_again:"网络重试按钮：可以点这里试试"},chatbot_unique_key:"03c824b4-52bf-2b84-35f3-03955a04625f",access_context:"Artificial Intelligence"},children:[]},{access_context:"Artificial Intelligence",access_name:"产品二",access_type:1,auth_id:"1127053836672217147",contact_text:"",display_name:"产品二",guide_type:1,page_title:"",sort:1,online_service_config:{im_type:1,language:"zh-cn",send_text:"发送按钮：点这里发送",zendesk_form_empty_tip:"表单不为空提示：这里不能为空",zendesk_form_format_tip:"输入有误",zendesk_group_id:2147719843,offline_show_type:2,offline_text:"hi阿斯蒂芬",zendesk_support_form_show:1,zendesk_support_form_id:900000064406,zendesk_prechat_form_show:1,zendesk_prechat_form_id:900000064406,pre_chat_form_config:[{name:"Prechat文本配置名字",required:2,type:"text"},{name:"Prechat文本配置邮箱",required:2,visible:2,type:"email"},{name:"Prechat文本配置message",required:2,type:"textarea"}],offline_form_config:[{name:"离线表单文本名字",required:2,type:"text"},{name:"离线表单文本邮箱",required:1,type:"email"}],week_text:["星期7","星期1","星期2","星期3","星期4","星期5","星期6"],intercom_id:"",online_translate_config:{chat_message_placeholder:"消息输入框：请输入",chat_network_broke_down:"网络断开提示：网络开小差了",chat_network_try_again:"网络重试按钮：点这里试试",chat_start:"开始聊天啦",chat_member_join:"现在已经加入聊天",chat_visitor_text:"访客",chat_member_leave:"离开聊天",chat_position:"正在队列",chat_rate_button:"评价这个聊天",chat_rate_title:"请评价这个聊天",chat_rate_message:"留下你的评论",chat_rate_skip_button:"取消",chat_rate_send_button:"发送",chat_end:"结束",chat_rate_submitted:"评论提交",chat_rate_good_title:"评价好标题",chat_rate_bad_title:"评价差标题",chat_rated_good:"非常好",chat_rated_bad:"不好",chat_online_top_title:"在线上标题",chat_offline_top_title:"离线顶端标题",chat_away_top_title:"离开顶端标题：离开没有广告",chat_form_submit_success:"提交成功",chat_form_another_send_button:"重新再提交一次",file_upload_not_supported:"文件不支持",file_upload_not_allowed:"文件不允许",file_upload_conn_error:"连接错误",file_upload_invalid_extension:"无效的扩展文件",file_upload_exceed_size_limit:"文件超出大小",file_upload_internal_error:"内部错误",file_upload_unknown_error:"未知错误"},chatbot_unique_key:"03c824b4-52bf-2b84-35f3-03955a04625f",access_context:"Artificial Intelligence"},children:[]},{access_context:"Artificial Intelligence",access_name:"UniConverter",access_type:1,auth_id:null,contact_text:"Contact阿牛",display_name:"UniConverter",guide_type:2,page_title:"文本标题呀",sort:2,children:[{access_context:"Artificial Intelligence",access_name:"zh-CN",access_type:1,auth_id:"1127852573757714503",contact_text:"",display_name:"zh-CN",guide_type:1,page_title:"",sort:0,children:[],online_service_config:{im_type:0,language:"zh-cn",send_text:"",zendesk_form_empty_tip:"",zendesk_form_format_tip:"",zendesk_group_id:0,offline_show_type:0,offline_text:"",zendesk_support_form_show:2,zendesk_support_form_id:0,zendesk_prechat_form_show:2,zendesk_prechat_form_id:0,pre_chat_form_config:null,offline_form_config:null,week_text:null,intercom_id:"",online_translate_config:{chat_message_placeholder:"点击这里输入",chat_network_broke_down:"没网了请回吧",chat_network_try_again:"交钱再点试试"},chatbot_unique_key:"03c824b4-52bf-2b84-35f3-03955a04625f",access_context:"Artificial Intelligence"}},{access_context:"暗号",access_name:"en",access_type:1,auth_id:"1127852573770297380",contact_text:"",display_name:"en",guide_type:1,page_title:"",sort:1,children:[],online_service_config:{im_type:1,language:"zh-cn",send_text:"发送",zendesk_form_empty_tip:"表单不为空",zendesk_form_format_tip:"格式不正确",zendesk_group_id:900002400403,offline_show_type:2,offline_text:"",zendesk_support_form_show:1,zendesk_support_form_id:900000064406,zendesk_prechat_form_show:1,zendesk_prechat_form_id:900000064406,pre_chat_form_config:[{name:"名字",required:1,type:"text"},{name:"邮件",required:1,visible:2,type:"email"},{name:"信息",required:1,visible:1,type:"textarea"}],offline_form_config:[{name:"名字",required:1,type:"text"},{name:"邮箱",required:1,type:"email"}],week_text:["周日","周一","周二","周三","周四","周五","周六"],intercom_id:"",online_translate_config:{chat_message_placeholder:"请输入消息",chat_network_broke_down:"网络出故障了",chat_network_try_again:"点击重试",chat_start:"开始聊天",chat_member_join:"加入会话",chat_visitor_text:"用户",chat_member_leave:"离开会话",chat_position:"排队位置",chat_rate_button:"评价会话",chat_rate_title:"请评价会话",chat_rate_message:"请留言",chat_rate_skip_button:"取消",chat_rate_send_button:"发送",chat_end:"结束",chat_rate_submitted:"留言已提交",chat_rate_good_title:"好评",chat_rate_bad_title:"差评",chat_rated_good:"好评",chat_rated_bad:"差评",chat_online_top_title:"在线",chat_offline_top_title:"离线",chat_away_top_title:"离开",chat_form_submit_success:"表单提交成功",chat_form_another_send_button:"再次提交表单",file_upload_not_supported:"文件不支持",file_upload_not_allowed:"文件不允许",file_upload_conn_error:"连接错误",file_upload_invalid_extension:"无效的扩展文件",file_upload_exceed_size_limit:"超过文件大小",file_upload_internal_error:"内部错误",file_upload_unknown_error:"未知错误"},chatbot_unique_key:"03c824b4-52bf-2b84-35f3-03955a04625f",access_context:"暗号"}}]}],recommend:{recommend:[{title:"Registration code",url:"http://support.wondershare.com/en/retrieve"},{title:"Cancel subscription",url:"http://support.wondershare.com/cancel_subscription.html"},{title:"invoice",url:"http://support.wondershare.com/get_invoice.html"}],custom_function_card:0},position:{top:"",right:"",bottom:"",left:"",mobile_top:"",mobile_right:"",mobile_bottom:"",mobile_left:""},online_service:{online:"",config:[]},domain:{static:"https://crm-static.wondershare.cc",api:"https://crm-web.wondershare.com"}}}})}function getStaticFiles(e){var t=e.css,n=[];if(t&&0<t.length)for(var i,o=0;o<t.length;o++)t[o].endsWith(".css")&&((i={param:"value"}).src="http://local.zendesk/build/static/css/"+t[o],n.push(i));var a=e.js,r=[{src:"https://images.wondershare.com/supportcenter18/test_assets/dist/web_widget/latest/assets/solid.js",param:""}];if(a&&0<a.length)for(var s,o=0;o<a.length;o++)a[o].endsWith(".js")&&((s={param:"value"}).src="http://local.zendesk/build/static/js/"+a[o],r.push(s));e={style:n,script:r,json:[{src:"https://images.wondershare.com/supportcenter18/test_assets/dist/web_widget/latest/static/json/manifest.json",param:"value"}]};return console.log("getStaticFiles files",e),e}isIE()&&(String.prototype.startsWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substr(0,e.length)==e},String.prototype.endsWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substring(this.length-e.length)==e},split=split||function(_){var d=String.prototype.split,m=/()??/.exec("")[1]===_,n=function(e,t,n){if("[object RegExp]"!==Object.prototype.toString.call(t))return d.call(e,t,n);var i,o,a,r,s=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),l=0,t=new RegExp(t.source,c+"g");for(e+="",m||(i=new RegExp("^"+t.source+"$(?!\\s)",c)),n=n===_?-1>>>0:n>>>0;(o=t.exec(e))&&!(l<(a=o.index+o[0].length)&&(s.push(e.slice(l,o.index)),!m&&1<o.length&&o[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===_&&(o[e]=_)}),1<o.length&&o.index<e.length&&Array.prototype.push.apply(s,o.slice(1)),r=o[0].length,l=a,s.length>=n));)t.lastIndex===o.index&&t.lastIndex++;return l===e.length?!r&&t.test("")||s.push(""):s.push(e.slice(l)),s.length>n?s.slice(0,n):s};return String.prototype.split=function(e,t){return n(this,e,t)},n}());var folderPrefix="https://msg.wondershare.cc/chatbot-ga/build",effectAssets={style:[{src:folderPrefix+"/static/css/main_e0b53293_chunk.css",param:""},{src:folderPrefix+"/static/css/style_772779a8_chunk.css",param:""},{src:folderPrefix+"/static/css/vendor_96a05d1a_chunk.css",param:""}],script:[{src:"https://images.wondershare.com/supportcenter18/test_assets/dist/web_widget/latest/assets/solid.js",param:""},{src:folderPrefix+"/static/js/main_25959b03_chunk.js",param:"value"},{src:folderPrefix+"/static/js/style_2750afb8_chunk.js"},{src:folderPrefix+"/static/js/vendor_8e0d41c7_chunk.js"}],json:[{src:"https://images.wondershare.com/supportcenter18/test_assets/dist/web_widget/latest/static/json/manifest.json",param:"value"}]},originStyles={position:"fixed",bottom:"0px",right:"0px","z-index":1,width:"359px",height:"0px",overflow:"hidden",display:"block","background-color":"transparent",border:"none"},originMobileStyles={position:"fixed",bottom:"0px",right:"0px","z-index":1,width:"100%",height:"100%",overflow:"hidden",display:"block","background-color":"transparent",border:"none"};function isEffectiveArray(e){return e&&Array.isArray(e)&&0<e.length}function loadIntercom(e){var n,t,i,o=e?e:"123456";window.intercomSettings={app_id:o},i=window,"function"==typeof(e=i.Intercom)?(e("reattach_activator"),e("update",i.intercomSettings)):(n=document,(t=function(){t.c(arguments)}).q=[],t.c=function(e){t.q.push(e)},i.Intercom=t,e=function(){var e=n.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+o;var t=n.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},"complete"===document.readyState?e():i.attachEvent?i.attachEvent("onload",e):i.addEventListener("load",e,!1))}function checkIsMobile(){var e=!1,t=getClientAutoPop();return e=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)||"true"===getMobilePreviewAtrribute()||"true"===t?!0:e}function insertMobileStyleElement(e){var t=document.createElement("style"),n="\n.WSAres-chatbot {\n            width: 100% !important;\n            height: 100% !important;\n        }\n        .ws-webWidget-layout {\n            width: 100% !important;\n        }\n\n        .WSAres-chatbot .ws-embed-webWidget .ws-webWidget-layout .ws-webWidget-main {\n            height: calc(100vh - 106px) !important;\n        }\n\n        .basic-entry {\n            height: 100% !important;\n            width: 100% !important;\n        }\n        .product-entry {\n            height: 100% !important;\n            width: 100% !important;\n        }\n        .form-entry {\n            height: 100% !important;\n            width: 100% !important;\n        }\n\n        .form-entry .basic-step .contact-form .skip {\n            left: calc(100% - 27px) !important;\n        }\n\n        .form-entry .product-step {\n            width: 100% !important;\n        }\n\n        .basic-entry .float .contact-form .contact-button {\n            position: fixed !important;\n            bottom: 40px !important;\n            width: calc(100% - 48px) !important;\n        }\n\n        .widget-container.normal {\n            width: 100% !important;\n            height: 100% !important;\n        }\n        .product-entry .float .contact-button {\n            width: calc(100% - 48px) !important;\n        }\n        .pfah-wrapper {\n            height: 100% !important;\n        }\n        .chat-rating-panel {\n            height: calc(100% - 110px) !important;\n        }";"true"===getClientAutoPop()&&(n+="\n.WSAres-chatbot .ws-embed-webWidget .ws-webWidget-layout .ws-webWidget-main .ws-webWidget-bot-content{\n            height: calc(100vh - 106px) !important;\n        }\n",(isIE()||isEdge()||isIPhoneWxMobileDevice())&&(n+="\n.widget-container.normal{\n            border: none !important;\n        }\n",n+="\n.WSAres-chatbot .ws-embed-webWidget .ws-webWidget-layout .ws-webWidget-footer{\n            border-right: none !important;\n            border-bottom: none !important;\n        }\n")),t.innerHTML=n,e.appendChild(t)}function insertWebStyleElement(e){var t=window.parent.document.createElement("style");e.information.position&&""!==e.information.position.left&&(e=e.information.position.left,t.innerHTML=".intercom-messenger-frame {left: "+e+"px !important; right: auto !important}"),document.getElementsByTagName("head")[0].appendChild(t)}function insertMeta(){var e=document.createElement("meta");e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0",e.name="viewport",document.getElementsByTagName("head")[0].appendChild(e),isIE()&&((e=document.createElement("meta")).httpEquiv="X-UA-Compatible",e.content="IE=edge",document.getElementsByTagName("head")[0].appendChild(e))}function handleMobileInformation(e){var t=e.information;void 0!==t.mobile_theme&&null!==t.mobile_theme&&""!==t.mobile_theme&&(t.theme=t.mobile_theme),void 0!==t.mobile_chatbot_icon&&null!==t.mobile_chatbot_icon&&""!==t.mobile_chatbot_icon&&(t.chatbot_icon=t.mobile_chatbot_icon),t.notice&&(void 0!==t.notice.mobile_show_notice&&null!==t.mobile_show_notice&&""!==t.mobile_show_notice&&(t.notice.show_notice=t.notice.mobile_show_notice),void 0!==t.notice.mobile_title&&null!==t.mobile_title&&""!==t.mobile_title&&(t.notice.title=t.notice.mobile_title),void 0!==t.notice.mobile_sub_title&&null!==t.mobile_sub_title&&""!==t.mobile_sub_title&&(t.notice.sub_title=t.notice.mobile_sub_title)),e.information=t}function handlePosition(e){var t,n=e.information.position;for(t in n)"left"===t||"mobile_left"===t?"0"!==n[t]&&0!==n[t]||(n[t]=""):""===n[t]&&(n[t]="0");e.information.position=n}function handleClientData(e){(isIE()||isEdge()||isIPhoneWxMobileDevice())&&"true"===getClientAutoPop()&&e&&e.information&&(e.information.theme&&(e.information.mobile_theme=e.information.theme),e.information.show_chatbot&&(e.information.mobile_show_chatbot=e.information.show_chatbot))}var findZendeskJsCount=sessionStorage.getItem("findZendeskJsCount")||0;function insertZendeskWebSdk(a){var e=document.createElement("script");e.src=config.zendesk_web_sdk_path,e.type="text/javascript",document.getElementsByTagName("body")[0].appendChild(e),e.onload=function(){console.info("getCurrentScriptKey key===>",a);var e=document.createElement("iframe");e.scrolling="no",e.id="wondershare_chatbot_iframe",checkIsMobile()?e.style=generateIframeStyle(originMobileStyles):(e.style=generateIframeStyle(originStyles),isIE()&&e.setAttribute("style",generateIframeStyle(originStyles)));var t=document.createElement("html"),n=document.createElement("head"),i=document.createElement("body"),o=document.createElement("div");o.id="WSAres-CHATBOT-ROOT",i.appendChild(o),getStaticAssetsByKey(a,n,i,t,e)},e.onerror=function(){console.error("load zendesk web sdk js fail")}}function initGA(){var e,t,n;e=window,n=document,t="ga",e.GoogleAnalyticsObject=t,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,t=n.createElement("script"),n=n.getElementsByTagName("script")[0],t.async=1,t.src="https://www.google-analytics.com/analytics.js",n.parentNode.insertBefore(t,n),ga("create","UA-125584796-1","auto"),ga("send","pageview")}function commonListenFunc(e){ga&&e&&"_chatbot_send_ga_params_"===e.type&&e.data&&(e=e.data,ga("send",{hitType:"event",eventCategory:e.eventCategory,eventAction:e.eventAction,eventLabel:e.eventLabel}))}function listenGAReport(){window.attachEvent?window.attachEvent("message",function(e){commonListenFunc(e.data)}):window.addEventListener("message",function(e){commonListenFunc(e.data)},!1)}function getStaticAssetsByKey(d,m,p,h,u){var e=config.get_assets_information_config.url+(config.get_assets_information_config.key_str?d:"");httpRequest({method:config.get_assets_information_config.method,url:e},function(e){insertMeta(),checkIsMobile()?(console.log("this is mobile"),insertMobileStyleElement(m)):console.log("this is pc web");try{var t=JSON.parse(e);if(0===t.code){var n=(config.is_mock?JSON.parse(getAssetsData()):t).data;if(checkIsMobile()){if(handleClientData(n),!n||!n.information||1!==n.information.mobile_show_chatbot)return void console.log("this is mobile, hide chatbot");handleMobileInformation(n),console.log("after handleMobileInformation data",n)}else if(!n||!n.information||1!==n.information.show_chatbot)return void console.log("this is pc web, hide chatbot");handlePosition(n),console.log("after handlePosition data",n),checkIsMobile()||insertWebStyleElement(n),n.chatbot_unique_key=d.split("=")[1],n.client_chatbot_info=getCurrentHtmlParamsObj(),window.EXP_CHATBOT_PARAMS=n,window.ZENDESK_ACCOUNT_KEY=config.zendesk_account_key;try{findZendeskJsCount++,sessionStorage.setItem("findZendeskJsCount",findZendeskJsCount),console.log("zChat",zChat),window.EXP_CHATBOT_ZCHAT=zChat,sessionStorage.setItem("findZendeskJsCount",0)}catch(e){if(console.error("=====================================>zChat error"),findZendeskJsCount<50)return void getStaticAssetsByKey(d,m,p,h,u);console.error("=====================================>zChat web sdk js not found (50 times)"),sessionStorage.setItem("findZendeskJsCount",0)}var i="";n&&n.information&&n.information.domain&&n.information.domain.static&&(i=n.information.domain.static);var o,a,r,s=effectAssets;if(isIE()&&dynamicLoading.js("https://cdn.polyfill.io/v2/polyfill.min.js?features=default,Array.prototype.includes",m,i),s.style&&0<s.style.length){dynamicLoading.css(config.swiper_css_path,m,i);for(var c=s.style,l=0;l<c.length;l++)dynamicLoading.css(c[l].src,m,i)}if(s.script&&0<s.script.length){dynamicLoading.js(config.jquery_js_path,p,i),dynamicLoading.js(config.swiper_js_path,p,i);for(var _=s.script,l=0;l<_.length;l++)_[l].src&&-1===_[l].src.indexOf("runtime-main")&&-1===_[l].src.indexOf("precache-manifest")&&dynamicLoading.js(_[l].src,p,i);n&&n.information&&n.information.type&&3===n.information.type&&dynamicLoading.js("https://pdf.wondershare.com/pfah/pardot-form.js",p,i)}h.appendChild(m),h.appendChild(p),isIPhoneWxMobileDevice()||(u.srcdoc=h.innerHTML),u.src="about:blank",(checkIsMobile()?handleMobileIframeStyleIfHasLeftPosition:handleIframeStyle)(u,n),isIE()||isEdge()||isIPhoneWxMobileDevice()?("true"===getClientAutoPop()?(u.style.border="none",u.style.display="block",(r=document.createElement("div")).setAttribute("name","_wondershare_chatbot_iframe_"),r.setAttribute("style","width: 100%; height: 100vh;"),r.appendChild(u),document.getElementsByTagName("body")[0].appendChild(r)):document.getElementsByTagName("body")[0].appendChild(u),o=u.contentWindow.document,a=h.innerHTML,o.open("text/html","replace"),o.write(a),o.close()):((r=document.createElement("div")).setAttribute("name","_wondershare_chatbot_iframe_"),r.appendChild(u),document.getElementsByTagName("body")[0].appendChild(r))}else t.data&&t.data.detail&&(console.error("code error"),console.error(t.data.detail))}catch(e){console.error(e),console.error("maybe res is not a valid json string")}},function(){console.error("request failure")})}function getEffectivePath(e,t){var n=e;return n=!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://"))?t+e:n}function generateIframeStyle(e){var t,n="";for(t in e)n+=t+":"+e[t]+";";return n}function handleIframeStyle(e,t){if(t&&t.information&&t.information.position){var n,i,o=t.information.position;if(o&&o.hasOwnProperty("left")){t=o.left;if(""!==t&&null!=t)return-1!==(t=t.trim()).indexOf("px")?originStyles.left=t:originStyles.left=t+"px",delete originStyles.right,!o.hasOwnProperty("bottom")||""!==(t=o.bottom)&&null!=t&&(-1!==(t=t.trim()).indexOf("px")?originStyles.bottom=t:originStyles.bottom=t+"px"),e.style=generateIframeStyle(originStyles),void(isIE()&&e.setAttribute("style",generateIframeStyle(originStyles)))}for(n in o)"bottom"!==n&&"right"!==n||""===o[n]||void 0===o[n]||null===o[n]||(-1!==(i=o[n].trim()).indexOf("px")?originStyles[n]=i:originStyles[n]=i+"px");e.style=generateIframeStyle(originStyles),isIE()&&e.setAttribute("style",generateIframeStyle(originStyles))}}function handleMobileIframeStyleIfHasLeftPosition(e,t){var n=t.information.position;n&&(!n.hasOwnProperty("mobile_left")||""!==(t=n.mobile_left)&&null!=t&&(t=-1!==t.indexOf("px")?Number(t.split("px")[0]):Number(t),originMobileStyles.right="auto",originMobileStyles.left=t+"px"),!n.hasOwnProperty("mobile_bottom")||""!==(n=n.mobile_bottom)&&null!=n&&(n=-1!==n.indexOf("px")?Number(n.split("px")[0]):Number(n),originMobileStyles.bottom=n+"px")),e.style=generateIframeStyle(originMobileStyles)}var key,dynamicLoading={css:function(e,t,n){if(!e||0===e.length)throw new Error('argument "path" is required !');var i=document.createElement("link");i.href=getEffectivePath(e,n),i.rel="stylesheet",i.type="text/css",t.appendChild(i)},manifest:function(e,t,n){if(!e||0===e.length)throw new Error('argument "path" is required !');var i=document.createElement("link");i.href=getEffectivePath(e,n),i.rel="manifest",t.appendChild(i)},js:function(e,t,n){if(!e||0===e.length)throw new Error('argument "path" is required !');var i=document.createElement("script");i.src=getEffectivePath(e,n),i.type="text/javascript",t.appendChild(i)}};document.getElementById("wondershare_chatbot_iframe")||window._has_chatbot_iframe_inited_?console.info("chatbot iframe has been inited"):(console.info("iframe init"),window._has_chatbot_iframe_inited_=!0,setWxAutoPopAtrributeToWindow(),key=getCurrentScriptKey(),window.attachEvent?window.attachEvent("onload",function(){initGA(),listenGAReport(),insertZendeskWebSdk(key)}):window.addEventListener("load",function(){initGA(),listenGAReport(),insertZendeskWebSdk(key)},!1));